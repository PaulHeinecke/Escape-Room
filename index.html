<!DOCTYPE html>  
<html lang="de">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Escape Room: Prof. Kalvinius Wärmelehre</title>  
    <style>  
        body {  
            font-family: Arial, sans-serif;  
            background-color: #f0f2f5;  
            margin: 0;  
            padding: 0;  
        }  
        
        .professor-note {  
            background-color: #fff9e6;  
            border-left: 4px solid #f0c040;  
            padding: 1rem;  
            margin-bottom: 1rem;  
            font-style: italic;  
        }  
        
        .code-input {  
            letter-spacing: 0.5em;  
            text-align: center;  
            font-weight: bold;  
        }  
        
        .hidden {  
            display: none;  
        }  
        
        .timer {  
            font-family: monospace;  
            font-size: 1.5rem;  
            font-weight: bold;  
        }  
        
        .puzzle-container {  
            background: white;  
            border-radius: 8px;  
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);  
            padding: 2rem;  
            margin-bottom: 2rem;  
        }  
        
        .hint-button {  
            background-color: #4f46e5;  
            color: white;  
            padding: 0.5rem 1rem;  
            border-radius: 0.375rem;  
            transition: all 0.2s;  
            border: none;  
            cursor: pointer;  
        }  
        
        .hint-button:hover {  
            background-color: #4338ca;  
        }  
        
        .timer-display {  
            position: fixed;  
            top: 1rem;  
            right: 1rem;  
            background-color: rgba(255, 255, 255, 0.9);  
            padding: 0.5rem 1rem;  
            border-radius: 0.5rem;  
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);  
            z-index: 100;  
        }  
        
        header {  
            background-color: #4f46e5;  
            color: white;  
            padding: 1rem;  
            text-align: center;  
        }  
        
        .container {  
            max-width: 1200px;  
            margin: 0 auto;  
            padding: 1rem;  
        }  
        
        button {  
            background-color: #4f46e5;  
            color: white;  
            border: none;  
            padding: 0.5rem 1rem;  
            border-radius: 0.375rem;  
            cursor: pointer;  
        }  
        
        button.green {  
            background-color: #10b981;  
        }  
        
        button:hover {  
            opacity: 0.9;  
        }  
        
        input {  
            padding: 0.5rem;  
            border: 1px solid #ccc;  
            border-radius: 0.375rem;  
            margin-bottom: 1rem;  
        }  
        
        .feedback-success {  
            background-color: #d1fae5;  
            color: #065f46;  
            padding: 0.5rem;  
            border-radius: 0.375rem;  
            margin-top: 1rem;  
        }  
        
        .feedback-error {  
            background-color: #fee2e2;  
            color: #b91c1c;  
            padding: 0.5rem;  
            border-radius: 0.375rem;  
            margin-top: 1rem;  
        }  
    </style>  
</head>  
<body>  
    <!-- Fixed Timer Display -->  
    <div id="timer-display" class="timer-display hidden">  
        <span>Zeit:</span>  
        <div id="timer" class="timer">80:00</div>  
    </div>  
    
    <!-- Header -->  
    <header>  
        <h1>Das Geheimnis des verrückten Thermodynamikers</h1>  
        <h2>Prof. Kalvinius Wärmelehre</h2>  
    </header>  
    
    <!-- Main Content -->  
    <main class="container">  
        <!-- Introduction Section -->  
        <section id="intro" class="puzzle-container">  
            <h2>Willkommen zum Escape Room!</h2>  
            
            <div class="professor-note">  
                <p>"Meine experimentelle Kühlanlage ist außer Kontrolle geraten! Ihr müsst mir helfen, sie zu stabilisieren, bevor es zu spät ist!   
                Löst die Rätsel in meinem Labor und findet den Code, um die Katastrophe abzuwenden!" - Prof. Kalvinius</p>  
            </div>  
            
            <p>Ihr habt <strong>80 Minuten</strong> Zeit, um den Escape Room zu lösen. Bei jedem Hinweis werden euch <strong>5 Minuten</strong> von eurer Zeit abgezogen!</p>  
            
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1.5rem;">  
                <div>  
                    <h3>Verbleibende Zeit:</h3>  
                    <div id="intro-timer" class="timer">80:00</div>  
                </div>  
                <button id="start-game" class="green">Spiel starten</button>  
            </div>  
        </section>  
        
        <!-- Puzzle 1 -->  
        <section id="puzzle1" class="puzzle-container hidden">  
            <h2>Rätsel 1: Die geheime Formel</h2>  
            
            <div class="professor-note">  
                <p>Die verschlüsselte Nachricht von Professor Kelvinius:</p>  
                <p>Die richtige Reihenfolge ist: Normale Körpertemperatur, Temperatur eines kalten Kühlschranks, Siedepunkt von Wasser, Temperatur, bei der Celsius und Fahrenheit übereinstimmen.</p>  
            </div>  
            
            <div>  
                <h3>Berechne folgende Temperaturen:</h3>  
                <ul>  
                    <li>37°C in Kelvin = ?</li>  
                    <li>5°C in Fahrenheit = ?</li>  
                    <li>373,15 K in Celsius = ?</li>  
                    <li>-40°F in Celsius = ?</li>  
                </ul>  
            </div>  
            
            <div>  
                <p><strong>Ordnet die Ergebnisse in der richtigen Reihenfolge und verwendet die erste Ziffer jedes Ergebnisses, um den Code zu knacken.</strong></p>  
            </div>  
            
            <div>  
                <label><strong>Gib den 4-stelligen Code ein:</strong></label>  
                <input type="text" id="puzzle1-input" maxlength="4" class="code-input" style="width: 100%" placeholder="Code eingeben">  
                
                <div style="display: flex; justify-content: space-between; margin-top: 1rem;">  
                    <div>  
                        <button id="hint1-1-button" class="hint-button">Hinweis 1 (-5 Min.)</button>  
                        <button id="hint1-2-button" class="hint-button hidden">Hinweis 2 (-5 Min.)</button>  
                        <button id="hint1-3-button" class="hint-button hidden">Hinweis 3 (-5 Min.)</button>  
                    </div>  
                    <button id="submit1-button">Prüfen</button>  
                </div>  
                
                <div id="hint1-1-container" class="hidden" style="margin-top: 1rem; padding: 1rem; background-color: #e0f2fe; border-radius: 0.375rem;">  
                    <h4>Hinweis 1:</h4>  
                    <p>Schaut euch das Whiteboard im Raum an! Dort findet ihr alle Umrechnungsformeln für die verschiedenen Temperatureinheiten.</p>  
                </div>  
                
                <div id="hint1-2-container" class="hidden" style="margin-top: 1rem; padding: 1rem; background-color: #e0f2fe; border-radius: 0.375rem;">  
                    <h4>Hinweis 2:</h4>  
                    <p>Auf dem Whiteboard stehen die Formeln mit Beispielen:</p>  
                    <ul>  
                        <li>Celsius zu Kelvin: K = °C + 273,15 (Beispiel: 20°C = 293,15 K)</li>  
                        <li>Celsius zu Fahrenheit: °F = (°C × 9/5) + 32 (Beispiel: 20°C = 68°F)</li>  
                        <li>Kelvin zu Celsius: °C = K - 273,15 (Beispiel: 293,15 K = 20°C)</li>  
                        <li>Fahrenheit zu Celsius: °C = (°F - 32) × 5/9 (Beispiel: 68°F = 20°C)</li>  
                    </ul>  
                </div>  
                
                <div id="hint1-3-container" class="hidden" style="margin-top: 1rem; padding: 1rem; background-color: #e0f2fe; border-radius: 0.375rem;">  
                    <h4>Hinweis 3:</h4>  
                    <p>Die Reihenfolge laut Aufgabe ist: Körpertemperatur (37°C), Kühlschrank (5°C), Siedepunkt von Wasser (373,15 K), Temperatur, bei der Celsius und Fahrenheit übereinstimmen (-40°F). Denkt an die ersten Ziffern jedes Ergebnisses!</p>  
                </div>  
                
                <div id="feedback1" class="hidden" style="margin-top: 1rem;"></div>  
            </div>  
        </section>  
    </main>  
    
    <script>  
        // Game Configuration  
        const TOTAL_TIME = 80 * 60; // 80 minutes in seconds  
        const HINT_PENALTY = 5 * 60; // 5 minutes in seconds  
        
        // Game State  
        let gameStarted = false;  
        let remainingTime = TOTAL_TIME;  
        let timerInterval;  
        let currentPuzzle = 0;  
        
        // DOM Elements  
        const startButton = document.getElementById('start-game');  
        const timerDisplay = document.getElementById('timer-display');  
        const timer = document.getElementById('timer');  
        const introTimer = document.getElementById('intro-timer');  
        
        const introSection = document.getElementById('intro');  
        const puzzle1Section = document.getElementById('puzzle1');  
        
        // Puzzle 1 Elements  
        const puzzle1Input = document.getElementById('puzzle1-input');  
        const submit1Button = document.getElementById('submit1-button');  
        const feedback1 = document.getElementById('feedback1');  
        
        // Hint Buttons  
        const hint1_1Button = document.getElementById('hint1-1-button');  
        const hint1_2Button = document.getElementById('hint1-2-button');  
        const hint1_3Button = document.getElementById('hint1-3-button');  
        
        // Hint Containers  
        const hint1_1Container = document.getElementById('hint1-1-container');  
        const hint1_2Container = document.getElementById('hint1-2-container');  
        const hint1_3Container = document.getElementById('hint1-3-container');  
        
        // Solutions  
        const SOLUTIONS = {  
            puzzle1: "3414"  
        };  
        
        // Helper Functions  
        function formatTime(seconds) {  
            const mins = Math.floor(seconds / 60);  
            const secs = seconds % 60;  
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;  
        }  
        
        function updateTimer() {  
            if (remainingTime <= 0) {  
                clearInterval(timerInterval);  
                gameOver(false);  
                return;  
            }  
            
            remainingTime--;  
            timer.textContent = formatTime(remainingTime);  
            introTimer.textContent = formatTime(remainingTime);  
        }  
        
        function startGame() {  
            gameStarted = true;  
            timerInterval = setInterval(updateTimer, 1000);  
            timerDisplay.classList.remove('hidden');  
            
            // Hide intro, show first puzzle  
            introSection.classList.add('hidden');  
            puzzle1Section.classList.remove('hidden');  
            
            currentPuzzle = 1;  
        }  
        
        function showFeedback(element, isCorrect, message) {  
            element.textContent = message;  
            element.classList.remove('hidden', 'feedback-success', 'feedback-error');  
            element.classList.add(isCorrect ? 'feedback-success' : 'feedback-error');  
        }  
        
        function applyHintPenalty() {  
            remainingTime -= HINT_PENALTY;  
            if (remainingTime < 0) remainingTime = 0;  
            timer.textContent = formatTime(remainingTime);  
            introTimer.textContent = formatTime(remainingTime);  
        }  
        
        // Event Listeners  
        startButton.addEventListener('click', startGame);  
        
        // Puzzle 1 Event Listeners  
        submit1Button.addEventListener('click', () => {  
            const input = puzzle1Input.value.trim();  
            if (input === SOLUTIONS.puzzle1) {  
                showFeedback(feedback1, true, "Richtig! Der Code ist korrekt.");  
                // Normally we would advance to the next puzzle here  
                setTimeout(() => {  
                    alert("Herzlichen Glückwunsch! Sie haben das erste Rätsel gelöst. In der vollständigen Version würden Sie nun zum nächsten Rätsel weitergeleitet.");  
                }, 1500);  
            } else {  
                showFeedback(feedback1, false, "Leider falsch. Überprüfe die Temperaturumrechnungen und die Reihenfolge.");  
            }  
        });  
        
        // Hint buttons  
        hint1_1Button.addEventListener('click', () => {  
            hint1_1Container.classList.remove('hidden');  
            hint1_2Button.classList.remove('hidden');  
            applyHintPenalty();  
        });  
        
        hint1_2Button.addEventListener('click', () => {  
            hint1_2Container.classList.remove('hidden');  
            hint1_3Button.classList.remove('hidden');  
            applyHintPenalty();  
        });  
        
        hint1_3Button.addEventListener('click', () => {  
            hint1_3Container.classList.remove('hidden');  
            applyHintPenalty();  
        });  
        
        // Initialize timer display  
        timer.textContent = formatTime(remainingTime);  
        introTimer.textContent = formatTime(remainingTime);  
    </script>  
</body>  
</html>
